import 'package:flutter/material.dart';
import 'package:google_mobile_ads/google_mobile_ads.dart';
import 'package:maharat_jazb_alnisa/main.dart';

// --- هنا تم استبدال الكود بـ BannerAdWidget الفعلي والمعدل ---
class BannerAdWidget extends StatefulWidget {
  const BannerAdWidget({super.key});

  @override
  State<BannerAdWidget> createState() => _BannerAdWidgetState();
}

class _BannerAdWidgetState extends State<BannerAdWidget> {
  BannerAd? _bannerAd;
  bool _isAdLoaded = false;
  final String _adUnitId = 'ca-app-pub-8081293973220877/5841556409'; // غير هذا بـ Ad Unit ID الخاص بإعلان البانر

  @override
  void initState() {
    super.initState();
    _loadBannerAd();
  }

  void _loadBannerAd() async {
    // *هذا هو الجزء الذي تم تعديله*
    // نستخدم getAnchoredAdaptiveBannerAdSize لحساب حجم الإعلان التكيفي
    final AdSize? size = await AdSize.getAnchoredAdaptiveBannerAdSize(
      MediaQuery.of(context).orientation,
      MediaQuery.of(context).size.width.truncate(),
    );

    if (size == null) {
      debugPrint('Unable to get adaptive banner size.');
      return;
    }

    _bannerAd = BannerAd(
      adUnitId: _adUnitId,
      request: const AdRequest(),
      size: size,
      listener: BannerAdListener(
        onAdLoaded: (ad) {
          debugPrint('BannerAd loaded.');
          setState(() {
            _isAdLoaded = true;
          });
        },
        onAdFailedToLoad: (ad, err) {
          debugPrint('BannerAd failed to load: $err');
          ad.dispose();
        },
      ),
    );
    _bannerAd!.load();
  }

  @override
  void dispose() {
    _bannerAd?.dispose();
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    if (_isAdLoaded && _bannerAd != null) {
      return SizedBox(
        width: _bannerAd!.size.width.toDouble(),
        height: _bannerAd!.size.height.toDouble(),
        child: AdWidget(ad: _bannerAd!),
      );
    } else {
      return const SizedBox.shrink();
    }
  }
}
// ----------------------------------------------------

class DeepenAttachmentPage extends StatefulWidget {
  const DeepenAttachmentPage({super.key});

  @override
  _DeepenAttachmentPageState createState() => _DeepenAttachmentPageState();
}

class _DeepenAttachmentPageState extends State<DeepenAttachmentPage> {
  double _fontSize = 16.0;

  NativeAd? _nativeAd;
  bool _isNativeAdLoaded = false;
  final String _adUnitId = 'ca-app-pub-8081293973220877/5104529502';

  @override
  void initState() {
    super.initState();
    _loadNativeAd();
  }

  @override
  void dispose() {
    _nativeAd?.dispose();
    super.dispose();
  }

  void _loadNativeAd() {
    _nativeAd = NativeAd(
      adUnitId: _adUnitId,
      factoryId: 'listTile',
      request: const AdRequest(),
      listener: NativeAdListener(
        onAdLoaded: (Ad ad) {
          debugPrint('Native Ad loaded.');
          setState(() {
            _nativeAd = ad as NativeAd;
            _isNativeAdLoaded = true;
          });
        },
        onAdFailedToLoad: (Ad ad, LoadAdError error) {
          debugPrint('Native Ad failed to load: $error');
          ad.dispose();
        },
      ),
    );
    _nativeAd!.load();
  }

  void _increaseFontSize() {
    setState(() {
      _fontSize = _fontSize + 2.0 < 24.0 ? _fontSize + 2.0 : 24.0;
    });
  }

  void _decreaseFontSize() {
    setState(() {
      _fontSize = _fontSize - 2.0 > 12.0 ? _fontSize - 2.0 : 12.0;
    });
  }

  @override
  Widget build(BuildContext context) {
    // Content parts for ad insertion
    const String part1 = '''
التعمق في بناء الارتباط العاطفي لا يعني التخلي عن التقنيات التي تناولنا الحديث عنها في قسم بناء الارتباط العاطفي، بل هو استمرار لها مع إدخال تقنيات جديدة.
  
1 :       الدخول في المواضيع الشخصية والعاطفية  

المحادثة مع المرأة يجب أن تأخذ عمقًا شخصيًّا، هذا هو الاتجاه الصحيح في المحادثة (من العام إلى الخاص). أنت تريد في النهاية أن تبني علاقة عاطفية معها، ماذا يحوي حديثها؟ يجب أن يعطيك السبب دائمًا لحديث شخصي، أنت يجب أن تدخل في عمق شخصيتها تمامًا مثل دودة الخشب (فكل امرأة عندها شيء مخفي في داخلها، عندما تصطدم به تمتلك مفتاح قلبها).   
 
ابنِ تقاربًا عاطفيًّا مع المرأة، تحدث عن مواضيع عميقة، عندما تقود محادثة مع المرأة عن شخصها، وحوائجها ومخاوفها ومشاعرها، تهديك سمعها، أنت تكون بمثابة الفرن الذي يسخنها، المسرح الذي تعرض نفسها عليه.  

حيث يُمكن الدخول في هذه المواضيع من معرفة القيم العاطفية عند الشخص الآخر وبالتالي المقدرة على توليد المشاعر العاطفية الإيجابية عنده عبر المحادثة معه، عندما ينشأ التقارب تتكون البيئة الملائمة لعلاقة غرامية ممتعة وشائقة.
فما هي القواعد التي يتوجب عليك أن تتقيد بها لتستطيع الدخول في المواضيع الشخصية والعاطفية:

∞ ادخل في قصصها بعمق. 

∞ اكتشف بماذا تربط الأشياء والقيم العاطفية.

∞ ابتدئ بالمواضيع والقيم العامة وانتقل إلى المواضيع والقيم الشخصية.

∞ ابنِ الثقة بينكما: كلما أصبحت المحادثة شخصية وعاطفية كلما زادت الثقة، كلما زادت الثقة وكان التواصل مطولًا كلما كان الارتباط أعمق، وكلما أصبحت منفتحة عليك وكلما أصبحت جاهزة لمحادثة تليفونية معك.
''';

    const String part2 = '''
 2 :       إنشاء مقارنة بين تجربتكما حول الموضوع المطروح 

الهدف من هذه العملية هو توليد مشاعر إيجابية مكثفة من الموضوع أو التجربة المطروحة أولًا، وثانيًا تكوين الأرضية المشتركة عبر هذه العاطفة التي ارتبطت بينكما. 

فما هي القواعد التي يجب مراعاتها لأجل ذلك؟ 

♫ اطرح الأشياء والمواضيع والتجارب الشائقة المثيرة في حياتك وأدر الحوار حولها على المستوى العاطفي، واطرح على الفتاة الأسئلة حول الموضوع أو التجربة واسألها إذا ما كانت مرت بمثل هذه الأشياء في حياتها.

♫ حاول من خلال أسئلتك أن تتعرف على الأشياء التي تكون لأجلها ممتعة ومثيرة.

♫ استمع لها بعناية وتمعن والتقط مواضيع للمحادثة عن الأشياء التي تكون لأجلها مثيرة ومحببة من القلب. 

♫ ابحث عن القناعات الشخصية عندها وبيّن لها أن لديكما نفس التوجهات أو الآراء والاهتمامات. 

♫ حرضها لتصف الأشياء والمواضيع بمشاعر إيجابية.
 
♫ عزز الارتباط من خلال إنشاء مقارنة بين تجربتكما حول الموضوع الذي تتحدثان عنه.

♫ استخدم اللغة الغنية بالوصف والمشاعر.

♫ اجذبها إلى عالمك وبيئتك الاجتماعية.
مثال 1:
 
أنت طرحت موضوعًا عن الطفولة والأطفال وأدرت الحوار حوله واستطعت أن تحرضها على أن تصف الموضوع بمشاعر إيجابية، وهي الآن تروي لك عن شقاوة أخيها الصغير وتقول لك: إنه يقوم بتحطيم الألعاب وتفكيكها، وأنه يقوم بالرسم على الأرض والجدران ويقوم بتلطيخ كل ما تقع يداه عليه، تريث حتى تقوم هي بالوصف الدقيق ثم كون الارتباط العاطفي معها، تستطيع هنا أن تقول لها: أنا أعرف تمامًا ما تشعرين به حيال أخيكِ الصغير، أنا أيضًا لدي نفس التجربة مع ابنة أخي، فهي أيضًا فتاة شقية، نحن كنا نظن أنها ملاك، ولكنها في الحقيقة شيطانة صغيرة، إنها بعمر أخيك، إنها لا تترك شيئًا منعناها من القيام به إلا وتقوم به، أمها منعتها من اللعب بأدوات الميكياج، في أحد الأيام، وبينما كان جميع أهلها ما يزالون نائمين، استيقظت مبكرًا وأخذت حقيبة والدتها وبدأت تعبث في الميكياج، وبدأت تلون خدودها وشفاهها بطلاء الأظافر بدلًا من حمرة الشفاه، بعد ذلك بدأت تلون كل ما تصل يداها إليه من أثاث المنزل بطلاء الأظافر، عندما استيقظت والدتها لم تصدق عيناها من هول الكارثة التي رأتها، لقد كادت أن تصاب بانهيار عصبي، طلاء الأظافر استغرق أسبوعًا كاملا حتى زال كليًّا عن وجه الصغيرة. 

(أليس هذا الارتباط ساحرًا ورائعًا، حاول أن تستخدم هذه الإمكانية ما أمكن في كل      فرصة ممكنة لإنشاء الارتباط العاطفي بينكما).

مثال 2:

هي تتحدث عن تجربتها مع مرض والدتها التي احتاجت إلى عملية جراحية، المشاكل والصعوبات التي واجهتها، وكيف كانت فرحتها بشفاء والدتها ونجاح العملية الجراحية التي خضعت لها، هي تتحدث عن تجربتها بمشاعر عميقة، وأنت تقول لها هنا: أستطيع أن أتفهم هذا الشعور، لقد مررت بنفس التجربة عندما كان أخي الأكبر مريضًا، عندما تعلقنا بين الأمل واليأس من شفائه، وقد غادر المشفى بصحة جيدة.
''';

    const String part3 = '''
3 :       إحداث توافق وتتطابق في الرؤى والأمنيات 

النساء عندهم تصور منذ الطفولة كيف يجب أن يكون شريك الحياة، عندما كانت تحلم بالفارس الشجاع الذي يخرجها من رتابة الحياة المملة، المرأة تتمنى أن تحصل على الشيء الذي لم تحصل عليه في حياتها، أنت يجب أن تعلم تصوراتها عن فارس الأحلام، ماذا تتوقع منه، وأن توافق ذلك من خلال تأكيد تعدد وجوه شخصيتك التي توافق هذه التصورات، هذا هو فن التسويق للذات. الكثير من النساء يشعرن بالتقيد، حاول أن تخرجها من القيد، حاول أن تحررها من خلال المحادثة، ابدأ مع المرأة بالحديث عن مواضيع مشاعر متنوعة، من خلالها اقرأ احتياجات المرأة ومثاليتها، تكلم عن الأشياء التي تحرك مشاعر المرأة، كالأمان والارتباط العاطفي مع الناس الآخرين والمهم ليس ما تقول المرأة، بل ماذا ينتقل إليك من مشاعر محددة، استرخِ ودعها تتكلم، ابحث بشكل عميق عن أمنياتها وأحلامها، يجب فقط أن تميز نحو ماذا تتطلع؟ هل تتشوق للرحلات أم لمنزل محمي مع الكثير من الأولاد؟ حيث تسمع صرير الأرجوحة.

المرأة يجب أن تعلم أنك ستغير حياتها للأفضل، فكيف ستغير حياتها للأفضل؟ يجب أن تبين لها: إنك مثلها تمامًا في الرؤى والأفكار والأمنيات والأهداف. على سبيل المثال: هي تحب الأولاد كثيرًا، أنت أيضًا تحب الأولاد كثيرًا.

 4 :       العودة بها إلى ذكريات الطفولة 

النساء عندهم غالبًا شخص في الطفولة أو ما بعد يسحرهم كالجد الحنون، تحريض الذكريات تثير مشاعر جميلة، كثافة هذه المشاعر تجلب التقارب، عندما تروي لك شيئًا ما، تكون قد تقاسمت معك شيئا حميمي، وبذلك تكون قد بنيتما علاقة، الهدف هنا أن تحرض المرأة على العيش مرة أخرى من جديد تجربة مشاعر الطفولة.

  5:       إبداء الانطباع حولها  

أخبر الفتاة أنك تشعر بالارتياح في وجودها والحديث معها، أخبرها أنها شخص لطيف، يوجد الكثير من الجمل التي يمكن أن تقولها للفتاة في هذا الخصوص ومنها:

○ أحب هذا النوع من الناس، الذين يرون العالم كما ترينه.

○ من المؤسف، أننا لم نتعرف على بعضنا البعض منذ وقت طويل.

 6 :       اختبارات وألعاب نفسية  

ومن هذه الاختبارات والألعاب:

قراءة الكف:

يستند مبدأ هذه الطريقة إلى معرفة صفات شخص ما ومعرفة مستقبله من خلال قراءة الخطوط والتعرجات المرتسمة على كف يده، حيث تعتبر هذه الخطوط والتعرجات بمثابة سجلات تدون أحداث حياته وتدل على صفاته المميزة، وكل خط من هذه الخطوط يمثل ناحية معينة من حياة الشخص ويحوي الكثير من الأسرار حول شخصيته، وكلما ازداد عمق هذه الخطوط كلما دل ذلك على تأكيد وجود الصفة تلك عنده.

عادة ما تتواجد بعض الشوائب والتقاطعات الصغيرة على الخطوط، أشكال هذه التقاطعات والشوائب مختلفة وترمز لأمور مختلفة، فعلى سبيل المثال: إذا كان الخط قويًّا ولا يقاطعه شيء فهذه دلالة على أن طريق الشخص في هذا المنحى واضح وسالك، أما التقاطعات التي تشبه الحواجز فهي تدل على عقبات أو مشاقة في حياة الشخص.

هذا ويرى المختصون بقراءة الكف أن التغير في الخطوط الرئيسية يمكن أن يحدث كل سبع سنوات، أما التغير في الخطوط الفرعية أو العلامات الواقعة على الخطوط الرئيسية والفرعية فإنه يمكن أن يحدث خلال شهر.

عند قراءة الكف يتوجب على القارئ أن ينظر في كلتا اليدين، والاستناد على اليد اليمنى في استقراء المستقبل واليسرى في قراءة الماضي، والحذر من إعطاء المعلومات الحساسة.

من وجهة نظر علمية تُعد قراءة الكف مجرد علم زائف، إذ لا يوجد ما يؤكد صحة ادعاءات العارفين بهذه الممارسة، وعلى العموم فإن قراءة الكف تعد من الأمور الترفيهية فقط، فلا دليل علميًّا على ارتباط المعلومات الواردة في الكف بحياة الشخص فعليًّا، وقراءة الكف تعد من الأشياء التي تعشقها النساء بجنون لا يصدق.

اختبار العاطفة: 

أوهم الفتاة بأنك شخص خارق وتمتلك قدرات فائقة ولديك بصيرة نافذة تستطيع من خلالها قراءة أفكار الآخرين ومعرفة مشاعرهم. أما مبدأ الاختبار فهو يعتمد على تسارع ضربات القلب عند سماع كلمات محفزة. امسك يد الفتاة وضع ثلاثة أصابع على معصم يدها فوق النبض (حيث يقيس الطبيب النبض)، بعد ذلك قل كلمات مختلفة مثل: أشعة الشمس، العيد، الشوكولا، الحب، الأطفال ..... وراقب نبضها. في نهاية الاختبار أخبر الفتاة بأنها من النوع الحساس والحنون وبأنك تحب هذا النوع من النساء. 

اختبار تحليل الشخصية: 

♣ تخيلي أنكِ في غابة مظلمة وكثيفة وخلال سيركِ المنهك بها، وإذا بكِ تسمعين صوتًا غريبًا، تلتفتين حولكِ، وإذا بكوخ قديم، ما حالة باب الكوخ؟ مقفل أم مفتوح.
 
♣ عندما تدخلين الكوخ سترين طاولة، كيف يكون شكل الطاولة؟ دائري أم بيضاوي أم مربع أم مستطيل أم مثلث. 
 
♣ على الطاولة هناك إناء زهور فيه ماء، ما هي كمية الماء المملوءة في الإناء؟ ممتلئ بالكامل أم ممتلئ إلى النصف أم فارغ؟ من أي مادة يكون الإناء مصنوعًا؟ الزجاج أم البورسلين أم الفخار أم المعدن أم البلاستيك أم الخشب.
♣ عندما تخرجين من الكوخ ستستمرين في سيركِ عبر الغابة الموحشة، حتى تقودكِ قدماكِ إلى شلال، ما مقدار سرعة الماء في الشلال؟ اختاري من صفر إلى عشرة.

♣ بعد أن تجتازي الشلال، تدوسين على شيء قاس على الأرض، تنظرين إليه لتري شيئًا يلمع، تنحنين لالتقاطه، فإذا به علاقة مفاتيح، كم مفتاحًا معلقًا بها؟ اختاري من صفر إلى عشرة. 

♣ تعاودين سيركِ بشكل متخبط في محاولة للعثور على مخرج، فتدلكِ قدماكِ على قصر يبزغ فجأة بين الأحراش، ما حالة القصر؟ قديم أم جديد.

♣ تدخلين القصر لتري بوسطه بركة ماء ضحلة، وإذا بجواهر لامعة تطفو على هذه المياه هل ستلتقطين الجواهر؟ نعم أم لا.

♣ إلى جانب هذه البركة هناك بركة أخرى، لكن ماءها صافٍ وعذبٌ، وإذا بأوراق مالية تطفو على الماء، هل ستلتقطين المال؟ نعم أم لا.

♣ ستسيرين حتى نهاية القصر العظيم، حتى تجدي المخرج، فتخرجين منه، وإذا بحديقة غناء، تلمحين صندوقًا على أرض الحديقة، ما حجم الصندوق؟ صغير أم متوسط أم كبير. هل كان الصندوق مصنوعًا من ورق مقوى أم ورق عادي أم خشب أم معدن؟

♣ هناك جسر في طرف الحديقة بعيد عن الصندوق، هل كان الجسر مصنوعًا من معدن أم من خشب أم من خيزران؟

♣ في المقابل من الجسر، هناك حصان، ما هو لون الحصان؟ أبيض أم رمادي أم بني أم أسود. ماذا يفعل الحصان؟ هادئ وثابت أم يـأكل من العشب أم يركض في الأرجاء.

♣ إعصار يقترب من على بعد، لديكِ ثلاثة خيارات، الركض والاختباء في الصندوق أو الركض والاختباء تحت الجسر أو الركض إلى الحصان لتمطينه وتهربين به بعيدًا؟

نتيجة التحليل:

حالة باب الكوخ:

باب مفتوح: أنتِ إنسانة من النوع الذي يكون على استعداد للمشاركة مع الآخرين.
باب مغلق: أنتِ إنسانة من النوع الذي يحتفظ بالأشياء لنفسه. 
شكل الطاولة:

الطاولة الدائرية أو البيضاوية: أنتِ تحافظين على جميع أصدقائكِ وتثقين بهم.
الطاولة المستطيلة والمربعة: أنتِ دقيقة في اختياركِ الأصدقاء وتصادقين من يشبهكِ.
الطاولة المثلثة: أنتِ تشترطين لاختياركِ الأصدقاء ولا أصدقاء كثر في حياتكِ. 
 
كمية الماء المملوءة في الإناء:

الإناء الفارغ: حياتكِ غير مكتملة. 
الإناء الممتلئ حتى النصف: ما حصلتِ عليه في حياتكِ نصف ما تطمحين إليه.
الإناء الممتلئ: حياتكِ مكتملة وأنتِ راضية عنها. 

من أي مادة يكون الإناء مصنوعًا؟

زجاج أو فخار أو بورسلين: أنتِ غير قادرة على التحكم بحياتكِ.
معدن أو بلاستيك أو خشب: أنتِ قادرة على التحكم بحياتكِ. 
 
سرعة المياه في الشلال:

صفر: لا يوجد رغبة عاطفية في حياتكِ.
واحد إلى أربعة: رغباتكِ العاطفية متدنية. 
خمسة إلى سبعة: رغباتكِ العاطفية عادية.
ثمانية إلى عشرة: أنتِ عاطفية جدًّا. 

عدد المفاتيح: 

واحد: أنتِ لديكِ صديقة حقيقية واحدة لا غير.
اثنان إلى خمسة: أنتِ لديكِ القليل من الصديقات الحقيقيات.
ستة إلى عشرة: أنتِ لديكِ الكثير من الصديقات الجيدات.
 
حالة القصر:

قديم: علاقاتكِ السابقة كانت فاشلة ومؤلمة. 
جديد: علاقاتكِ السابقة كانت جيدة وسعيدة.
هل ستلتقطين الجواهر؟

نعم: أنتِ لا تترددين في مجاملة الآخرين في وجود شريكِ حياتكِ. 
لا: أنتِ لا تفعلين ذلك. 

هل ستلتقطين المال؟

نعم: أنتِ لا تترددين في مجاملة الآخرين في غياب شريك حياتكِ.
لا: أنتِ تكونين وفية.

حجم الصندوق:

صندوق صغير: شعوركِ بذاتكِ ضعيف.
صندوق متوسط: شعوركِ بذاتكِ طبيعي.
صندوق كبير: شعوركِ بذاتكِ كبير.

من أي مادة يكون الصندوق مصنوعًا؟

من الورق المقوى أو الورق العادي أو الخشب: أنتِ إنسانة متواضعة. 
من المعدن: أنتِ إنسانة عنيدة.

من أي مادة يكون الجسر مصنوعًا؟

معدن: لديكِ علاقة قوية جدًّا بأصدقائكِ.
خشب: لديكِ علاقة عادية بهم.
خيزران: لستِ على علاقة جيدة بأصدقائكِ. 
لون الحصان:

أبيض: شريك حياتكِ إنسان طيب ونقي في نظركِ. 
رمادي أو بني: ترينه بطريقة عادية. 
أسود: لا ترينه بنظرة جيدة. 

ماذا يفعل الحصان؟

ثابت وهادئ أو يأكل العشب: شريك حياتكِ إنسان بيتي ومتواضع. 
يركض في الأرجاء: شريك حياتكِ إنسان متمرد ومغامر. 
 
إعصار يقترب من على بعد ولديكِ ثلاثة خيارات في مواجهته (الإعصار يمثل   المشاكل في حياتكِ). 

الصندوق: وهو أنتِ واختياركِ لهُ يعني أنكِ تحتفظين بمشاعركِ ومشاكلكِ وآلامكِ لنفسكِ. 

الجسر: وهو أصدقائكِ واختياركِ لهُ يعني أن أصدقاءكِ هم من يحتوونكِ وتلجئين إليهم عند الصعوبات. 
 
الحصان: وهو شريك حياتكِ واختياركِ لهُ يعني أنكِ ستركضين لشريك حياتكِ لتجدي عنده الراحة والأمان والحلول لكل المعضلات.

[بالطبع هذا الاختبار يكون مرحًا ومسليًّا، إذا ما تمّ التمرّن عليه وحفظه عن ظهر قلب، طباعته على الورق،  واستعراضه  أمام  الفتاة،  تفقد  الاختبار  متعته،  ولا  أنصح  بذلك أبدًا].
''';
    return Scaffold(
      appBar: PreferredSize(
        preferredSize: const Size.fromHeight(80.0),
        child: AppBar(
          backgroundColor: Colors.pink.shade100,
          automaticallyImplyLeading: false,
          flexibleSpace: SafeArea(
            child: Padding(
              padding: const EdgeInsets.symmetric(horizontal: 12.0, vertical: 8.0),
              child: Column(
                crossAxisAlignment: CrossAxisAlignment.start,
                children: [
                  Row(
                    mainAxisAlignment: MainAxisAlignment.spaceBetween,
                    children: [
                      Directionality(
                        textDirection: TextDirection.ltr,
                        child: IconButton(
                          icon: const Icon(Icons.arrow_back, color: Colors.black87),
                          onPressed: () {
                            Navigator.pop(context);
                          },
                        ),
                      ),
                      Expanded(
                        child: Text(
                          'التعمق في بناء الارتباط العاطفي',
                          style: TextStyle(
                            fontFamily: 'Amiri',
                            fontSize: 16,
                            fontWeight: FontWeight.bold,
                            color: Colors.black87,
                          ),
                          textAlign: TextAlign.right,
                          textDirection: TextDirection.rtl,
                          maxLines: 2,
                        ),
                      ),
                      const SizedBox(width: 10),
                    ],
                  ),
                ],
              ),
            ),
          ),
        ),
      ),
      body: Directionality(
        textDirection: TextDirection.rtl,
        child: Column(
          children: [
            Align(
              alignment: Alignment.topLeft,
              child: Padding(
                padding: const EdgeInsets.symmetric(horizontal: 16.0, vertical: 8.0),
                child: Container(
                  decoration: BoxDecoration(
                    color: Colors.pink.shade50,
                    borderRadius: BorderRadius.circular(10),
                    border: Border.all(color: Colors.pink.shade200),
                  ),
                  child: Row(
                    mainAxisSize: MainAxisSize.min,
                    children: [
                      IconButton(
                        icon: Icon(Icons.zoom_in, color: Colors.pink.shade700),
                        onPressed: _increaseFontSize,
                      ),
                      IconButton(
                        icon: Icon(Icons.zoom_out, color: Colors.pink.shade700),
                        onPressed: _decreaseFontSize,
                      ),
                    ],
                  ),
                ),
              ),
            ),
            Expanded(
              child: SingleChildScrollView(
                padding: const EdgeInsets.all(20.0),
                child: Column(
                  crossAxisAlignment: CrossAxisAlignment.start,
                  children: [
                    Text(
                      part1,
                      style: TextStyle(
                        fontFamily: 'Amiri',
                        fontSize: _fontSize,
                        height: 1.6,
                        color: Colors.black87,
                      ),
                      textAlign: TextAlign.justify,
                    ),
                    Text(
                      part2,
                      style: TextStyle(
                        fontFamily: 'Amiri',
                        fontSize: _fontSize,
                        height: 1.6,
                        color: Colors.black87,
                      ),
                      textAlign: TextAlign.justify,
                    ),
                    // Start of Native Ad
                    if (_isNativeAdLoaded && _nativeAd != null)
                      Padding(
                        padding: const EdgeInsets.symmetric(vertical: 20.0),
                        child: Container(
                          decoration: BoxDecoration(
                            color: Colors.pink.shade50,
                            borderRadius: BorderRadius.circular(10),
                            border: Border.all(color: Colors.pink.shade200),
                          ),
                          height: 100, // Adjust height as needed
                          child: AdWidget(ad: _nativeAd!),
                        ),
                      ),
                    // End of Native Ad
                    Text(
                      part3,
                      style: TextStyle(
                        fontFamily: 'Amiri',
                        fontSize: _fontSize,
                        height: 1.6,
                        color: Colors.black87,
                      ),
                      textAlign: TextAlign.justify,
                    ),
                  ],
                ),
              ),
            ),
          ],
        ),
      ),
      // --- Ad banner added here ---
      bottomNavigationBar: BannerAdWidget(),
      // ----------------------------
    );
  }
}